{% extends 'layout.njk' %}

{% block body %}
{% if news.length > 0 %}
<div class="slider-container">
  <div class="swiper-wrapper">
    
   
    {% for content in news %}
    {% if content.image_url %}
    <div class="swiper-slide">
      <h2 class="slide-title">{{content.title}}</h2>
      <img src="{{content.image_url}}" width="950px" alt="Imagen">
      <p class="slide-content">{{content.content | renderHtml}}</p>
    </div>
    {% else %}
    <div class="swiper-slide">
      <h2 class="slide-title">{{content.title}}</h2>
      <p class="slide-content">{{content.content | renderHtml}}</p>
    </div>
    {% endif %}
    {% endfor %}
    
    
  </div>
  
  <div class="swiper-pagination"></div>
  <button class="swiper-button-prev"></button>
  <button class="swiper-button-next"></button>
</div>
{% endif %}

<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
<script>
  var swiper = new Swiper('.slider-container', {
    pagination: {
      el: '.swiper-pagination',
    },
    navigation: {
      nextEl: '.swiper-button-next', // Botón siguiente
      prevEl: '.swiper-button-prev', // Botón anterior
    },
    loop: true, // Hace que el carrusel vuelva al primer slide al llegar al último
    autoplay: {
      delay: 3000, // Intervalo de 5 segundos entre transiciones automáticas
    },
  });
</script>

<div class="content">
  
  <section id="featured">
    <h1 style="text-align: center;">ARTICULOS POPULARES</h1>
    <div id="articles" class="featured">
      {% for item in articles %}
      <article>
        <h3 class="tile-title">
          <a href="/articles/{{item.id}}">{{item.title}}</a>
        </h3>
        <p class="tile-content">{{  item.short_description | truncateText(150)}}</p>
      </article>
      {% endfor %}
    </div>
  </section>
  
  <section id="latest_articles">
    <h1 style="text-align: center;">ULTIMOS ARTICULOS</h1>
    <div id="latest">
      <ul class="article-list">
        <li><a href="/en-US/blog/regular-expressions-reference-updates/">New reference pages on MDN for JavaScript regular expressions</a></li>
        <li><a href="/en-US/blog/aria-accessibility-html-landmark-roles/">Using HTML landmark roles to improve accessibility</a></li>
        <li><a href="/en-US/docs/Web/CSS/font-palette">font-palette</a></li>
      </ul>
    </div>
  </section>
</div>

{% endblock %}
