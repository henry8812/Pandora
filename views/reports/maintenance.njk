{% extends 'layout.njk' %}

{% block body %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.7.8/handlebars.min.js" integrity="sha512-E1dSFxg+wsfJ4HKjutk/WaCzK7S2wv1POn1RRPGh8ZK+ag9l244Vqxji3r6wgz9YBf6+vhQEYJZpSjqWFPg9gg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/series-label.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>
<script src="https://code.highcharts.com/modules/accessibility.js"></script>




<div class="content">
    <div class="row">
        <!--CARDS-->
        <div class="col-xl-3 col-md-6 d-none">
            <div class="card">
                <div class="card-block">
                    <div class="row align-items-center">
                        <div class="col-8 p-0 text-center">
                            <h4 class="text-c-yellow f-w-600 display-2" id="softwareStat">0</h4>

                        </div>
                        <div class="col-4 text-center">
                            <span class="material-symbols-outlined  card-icon">
                                terminal
                            </span>
                        </div>
                    </div>
                </div>
                <div class="card-footer bg-c-yellow">
                    <div class="row align-items-center">
                        <div class="col-9">
                            <p class="text-white m-b-0">Mantenimientos Software</p>
                        </div>
                        <div class="col-3 text-right">

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xl-3 col-md-6 d-none">
            <div class="card">
                <div class="card-block">
                    <div class="row align-items-center">
                        <div class="col-8 p-0 text-center">
                            <h4 class="text-c-green f-w-600 display-2" id="hardwareStat">0</h4>
                        </div>
                        <div class="col-4 text-right">
                            <span class="material-symbols-outlined card-icon">
                                devices
                            </span>

                        </div>
                    </div>
                </div>
                <div class="card-footer bg-c-green">
                    <div class="row align-items-center">
                        <div class="col-9">
                            <p class="text-white m-b-0">Mantenimientos Hardware</p>
                        </div>
                        <div class="col-3 text-right">
                            <i class="feather icon-trending-up text-white f-16"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xl-6 col-md-6">
            <div class="card">
                <div class="card-block">
                    <div class="row align-items-center">
                        <div class="col-8">
                            <h4 class="text-c-pink f-w-600 text-center display-2" id="totalStat">0</h4>
                        </div>
                        <div class="col-4 text-right">
                            <span class="material-symbols-outlined card-icon">
                                public
                            </span>
                        </div>
                    </div>
                </div>
                <div class="card-footer bg-c-pink">
                    <div class="row align-items-center">
                        <div class="col-9">
                            <p class="text-white m-b-0">Total Mantenimientos</p>
                        </div>
                        <div class="col-3 text-right">

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xl-6 col-md-6">
            <div class="card">
                <div class="card-block">
                    <div class="row align-items-center">
                        <div class="col-8 p-0 text-center">
                            <h4 class="text-c-blue f-w-600 display-2" id="percentStat">0%</h4>
                        </div>
                        <div class="col-4 text-center">
                            <span class="material-symbols-outlined card-icon">
                                sports_score
                            </span>
                        </div>
                    </div>
                </div>
                <div class="card-footer bg-c-blue">
                    <div class="row align-items-center">
                        <div class="col-9">
                            <p class="text-white m-b-0">% Alcanzado</p>
                        </div>
                        <div class="col-3 text-center">

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--GRAFICAS POR CANTIDAD-->

        <div class="col-xl-12 col-md-12">
            <div class="card">
                <div class="card-header d-none">
                    <h5>Mantenemientos del año en curso</h5>
                    <span class="text-muted d-none">For more details about usage, please
                        refer <a href="https://www.amcharts.com/online-store/" target="_blank">amCharts</a>
                        licences.</span>
                    <div class="card-header-right">
                        <ul class="list-unstyled card-option">
                            <li><i class="feather icon-maximize full-card"></i></li>
                            <li><i class="feather icon-minus minimize-card"></i>
                            </li>
                            <li><i class="feather icon-trash-2 close-card"></i></li>
                        </ul>
                    </div>
                </div>
                <div class="card-block row">
               
                    <figure class="highcharts-figure col-md-4 col-xl-4 col-sm-12 text-center d-none">
                        <h7 class="highcharts-title">
                            MANTENIMIENTOS POR MES DEL AÑO
                        </h7>
                        <div id="maintenance-by-month">
                        </div>
                        <p class="highcharts-description d-none">
                            Chart showing how different series types can be combined in a single
                            chart. The chart is using a set of column series, overlaid by a line and
                            a pie series. The line is illustrating the column averages, while the
                            pie is illustrating the column totals.
                        </p>
                    </figure>
                    
                    <figure class="highcharts-figure col-md-12 col-xl-12 col-sm-12 text-center">
                        <h7 class="highcharts-title text-center">
                            TENDENCIA DE MANTENIMIENTOS POR MES
                        </h7>
                        <div id="trending-by-month">
                        </div>
                        <p class="highcharts-description d-none">
                            Basic line chart showing trends in a dataset. This chart includes the
                            <code>series-label</code> module, which adds a label to each line for
                            enhanced readability.
                        </p>
                    </figure>

                    <figure class="highcharts-figure col-md-12 col-xl-12 col-sm-12 text-center">
                        <h7 class="highcharts-title text-center">
                            MANTENIMIENTOS PENDIENTES POR MES
                        </h7>
                        <div id="pending-by-month">
                        </div>
                        <p class="highcharts-description d-none">
                            Basic line chart showing trends in a dataset. This chart includes the
                            <code>series-label</code> module, which adds a label to each line for
                            enhanced readability.
                        </p>
                    </figure>
                    
                </div>
            </div>
        </div>

        <!--GRAFICA POR AGENTE -->
        <div class="col-xl-4 col-md-12 d-none">
            <div class="card">
                <div class="card-block bg-c-green">
                    <div id="proj-earning" style="height: 230px; overflow: hidden; text-align: left;">
                        <div class="amcharts-main-div" style="position: relative;">
                            <div class="amcharts-chart-div"
                                style="overflow: hidden; position: relative; text-align: left; width: 362px; height: 230px; padding: 0px; cursor: default; touch-action: auto;">
                                <svg version="1.1"
                                    style="position: absolute; width: 362px; height: 230px; top: 0.390625px; left: 0.390625px;">
                                    <desc>JavaScript chart by amCharts 3.21.5</desc>
                                    <g>
                                        <path cs="100,100" d="M0.5,0.5 L361.5,0.5 L361.5,229.5 L0.5,229.5 Z"
                                            fill="#FFFFFF" stroke="#000000" fill-opacity="0" stroke-width="1"
                                            stroke-opacity="0"></path>
                                        <path cs="100,100" d="M0.5,0.5 L300.5,0.5 L300.5,178.5 L0.5,178.5 L0.5,0.5 Z"
                                            fill="#FFFFFF" stroke="#000000" fill-opacity="0" stroke-width="1"
                                            stroke-opacity="0" transform="translate(41,20)"></path>
                                    </g>
                                    <g transform="translate(41,20)" clip-path="url(#AmChartsEl-9)">
                                        <g visibility="hidden"></g>
                                    </g>
                                    <g></g>
                                    <g></g>
                                    <g></g>
                                    <g>
                                        <g transform="translate(41,20)">
                                            <g>
                                                <g transform="translate(15,178)" visibility="visible"
                                                    aria-label=" UI 10">
                                                    <path cs="100,100"
                                                        d="M0.5,0.5 L0.5,-58.5 L30.5,-58.5 L30.5,0.5 L0.5,0.5 Z"
                                                        fill="#fff" stroke="#fff" fill-opacity="1" stroke-width="1"
                                                        stroke-opacity="1">
                                                    </path>
                                                </g>
                                                <g transform="translate(75,178)" visibility="visible"
                                                    aria-label=" UX 15">
                                                    <path cs="100,100"
                                                        d="M0.5,0.5 L0.5,-132.5 L30.5,-132.5 L30.5,0.5 L0.5,0.5 Z"
                                                        fill="#fff" stroke="#fff" fill-opacity="1" stroke-width="1"
                                                        stroke-opacity="1"></path>
                                                </g>
                                                <g transform="translate(135,178)" visibility="visible"
                                                    aria-label=" Web 12">
                                                    <path cs="100,100"
                                                        d="M0.5,0.5 L0.5,-88.5 L30.5,-88.5 L30.5,0.5 L0.5,0.5 Z"
                                                        fill="#fff" stroke="#fff" fill-opacity="1" stroke-width="1"
                                                        stroke-opacity="1">
                                                    </path>
                                                </g>
                                                <g transform="translate(195,178)" visibility="visible"
                                                    aria-label=" App 16">
                                                    <path cs="100,100"
                                                        d="M0.5,0.5 L0.5,-147.5 L30.5,-147.5 L30.5,0.5 L0.5,0.5 Z"
                                                        fill="#fff" stroke="#fff" fill-opacity="1" stroke-width="1"
                                                        stroke-opacity="1"></path>
                                                </g>
                                                <g transform="translate(255,178)" visibility="visible"
                                                    aria-label=" SEO 8">
                                                    <path cs="100,100"
                                                        d="M0.5,0.5 L0.5,-29.5 L30.5,-29.5 L30.5,0.5 L0.5,0.5 Z"
                                                        fill="#fff" stroke="#fff" fill-opacity="1" stroke-width="1"
                                                        stroke-opacity="1">
                                                    </path>
                                                </g>
                                            </g>
                                        </g>
                                    </g>
                                    <g></g>
                                    <g>
                                        <g>
                                            <path cs="100,100" d="M0.5,0.5 L300.5,0.5" fill="none" stroke-width="1"
                                                stroke-opacity="0.3" stroke="#000000" transform="translate(41,198)">
                                            </path>
                                        </g>
                                        <g>
                                            <path cs="100,100" d="M0.5,0.5 L0.5,178.5" fill="none" stroke-width="1"
                                                stroke-opacity="0.3" stroke="transparent" transform="translate(41,20)"
                                                visibility="visible"></path>
                                        </g>
                                    </g>
                                    <g>
                                        <g transform="translate(41,20)" clip-path="url(#AmChartsEl-10)"
                                            style="pointer-events: none;">
                                            <path cs="100,100" d="M0.5,0.5 L0.5,0.5 L0.5,178.5" fill="none"
                                                stroke-width="1" stroke-opacity="0" stroke="#000000" visibility="hidden"
                                                transform="translate(30,0)"></path>
                                            <path cs="100,100" d="M0.5,0.5 L300.5,0.5 L300.5,0.5" fill="none"
                                                stroke-width="1" stroke="#000000" visibility="hidden"
                                                transform="translate(0,47)"></path>
                                        </g>
                                        <clipPath id="AmChartsEl-10">
                                            <rect x="0" y="0" width="300" height="178" rx="0" ry="0" stroke-width="0">
                                            </rect>
                                        </clipPath>
                                    </g>
                                    <g></g>
                                    <g>
                                        <g></g>
                                    </g>
                                    <g>
                                        <g transform="translate(41,20)" visibility="visible"><text y="6" fill="#fff"
                                                font-family="Verdana" font-size="12px" opacity="1" text-anchor="middle"
                                                transform="translate(30,191)">
                                                <tspan y="6" x="0">UI</tspan>
                                            </text><text y="6" fill="#fff" font-family="Verdana" font-size="12px"
                                                opacity="1" text-anchor="middle" transform="translate(90,191)">
                                                <tspan y="6" x="0">UX</tspan>
                                            </text><text y="6" fill="#fff" font-family="Verdana" font-size="12px"
                                                opacity="1" text-anchor="middle" transform="translate(150,191)">
                                                <tspan y="6" x="0">Web</tspan>
                                            </text><text y="6" fill="#fff" font-family="Verdana" font-size="12px"
                                                opacity="1" text-anchor="middle" transform="translate(210,191)">
                                                <tspan y="6" x="0">App</tspan>
                                            </text><text y="6" fill="#fff" font-family="Verdana" font-size="12px"
                                                opacity="1" text-anchor="middle" transform="translate(270,191)">
                                                <tspan y="6" x="0">SEO</tspan>
                                            </text></g>
                                        <g transform="translate(41,20)" visibility="visible"><text y="6" fill="#fff"
                                                font-family="Verdana" font-size="11px" opacity="1" text-anchor="end"
                                                transform="translate(-12,177)">
                                                <tspan y="6" x="0">6</tspan>
                                            </text><text y="6" fill="#fff" font-family="Verdana" font-size="11px"
                                                opacity="1" text-anchor="end" transform="translate(-12,147)">
                                                <tspan y="6" x="0">8</tspan>
                                            </text><text y="6" fill="#fff" font-family="Verdana" font-size="11px"
                                                opacity="1" text-anchor="end" transform="translate(-12,118)">
                                                <tspan y="6" x="0">10</tspan>
                                            </text><text y="6" fill="#fff" font-family="Verdana" font-size="11px"
                                                opacity="1" text-anchor="end" transform="translate(-12,88)">
                                                <tspan y="6" x="0">12</tspan>
                                            </text><text y="6" fill="#fff" font-family="Verdana" font-size="11px"
                                                opacity="1" text-anchor="end" transform="translate(-12,58)">
                                                <tspan y="6" x="0">14</tspan>
                                            </text><text y="6" fill="#fff" font-family="Verdana" font-size="11px"
                                                opacity="1" text-anchor="end" transform="translate(-12,29)">
                                                <tspan y="6" x="0">16</tspan>
                                            </text><text y="6" fill="#fff" font-family="Verdana" font-size="11px"
                                                opacity="1" text-anchor="end" transform="translate(-12,-1)">
                                                <tspan y="6" x="0">18</tspan>
                                            </text></g>
                                    </g>
                                    <g transform="translate(41,20)"></g>
                                    <g></g>
                                    <g></g>
                                    <g>
                                        <g transform="translate(41,20)"></g>
                                        <g transform="translate(41,20)" visibility="visible">
                                            <g>
                                                <path cs="100,100" d="M0.5,178.5 L6.5,178.5" fill="none"
                                                    stroke-width="1" stroke-opacity="0.3" stroke="transparent"
                                                    transform="translate(-6,0)">
                                                </path>
                                                <path cs="100,100" d="M0.5,178.5 L0.5,178.5 L300.5,178.5" fill="none"
                                                    stroke-width="1" stroke-opacity="0.3" stroke="#fff"></path>
                                            </g>
                                            <g>
                                                <path cs="100,100" d="M0.5,148.5 L6.5,148.5" fill="none"
                                                    stroke-width="1" stroke-opacity="0.3" stroke="transparent"
                                                    transform="translate(-6,0)">
                                                </path>
                                                <path cs="100,100" d="M0.5,148.5 L0.5,148.5 L300.5,148.5" fill="none"
                                                    stroke-width="1" stroke-opacity="0.3" stroke="#fff"></path>
                                            </g>
                                            <g>
                                                <path cs="100,100" d="M0.5,119.5 L6.5,119.5" fill="none"
                                                    stroke-width="1" stroke-opacity="0.3" stroke="transparent"
                                                    transform="translate(-6,0)">
                                                </path>
                                                <path cs="100,100" d="M0.5,119.5 L0.5,119.5 L300.5,119.5" fill="none"
                                                    stroke-width="1" stroke-opacity="0.3" stroke="#fff"></path>
                                            </g>
                                            <g>
                                                <path cs="100,100" d="M0.5,89.5 L6.5,89.5" fill="none" stroke-width="1"
                                                    stroke-opacity="0.3" stroke="transparent"
                                                    transform="translate(-6,0)">
                                                </path>
                                                <path cs="100,100" d="M0.5,89.5 L0.5,89.5 L300.5,89.5" fill="none"
                                                    stroke-width="1" stroke-opacity="0.3" stroke="#fff"></path>
                                            </g>
                                            <g>
                                                <path cs="100,100" d="M0.5,59.5 L6.5,59.5" fill="none" stroke-width="1"
                                                    stroke-opacity="0.3" stroke="transparent"
                                                    transform="translate(-6,0)">
                                                </path>
                                                <path cs="100,100" d="M0.5,59.5 L0.5,59.5 L300.5,59.5" fill="none"
                                                    stroke-width="1" stroke-opacity="0.3" stroke="#fff"></path>
                                            </g>
                                            <g>
                                                <path cs="100,100" d="M0.5,30.5 L6.5,30.5" fill="none" stroke-width="1"
                                                    stroke-opacity="0.3" stroke="transparent"
                                                    transform="translate(-6,0)">
                                                </path>
                                                <path cs="100,100" d="M0.5,30.5 L0.5,30.5 L300.5,30.5" fill="none"
                                                    stroke-width="1" stroke-opacity="0.3" stroke="#fff"></path>
                                            </g>
                                            <g>
                                                <path cs="100,100" d="M0.5,0.5 L6.5,0.5" fill="none" stroke-width="1"
                                                    stroke-opacity="0.3" stroke="transparent"
                                                    transform="translate(-6,0)">
                                                </path>
                                                <path cs="100,100" d="M0.5,0.5 L0.5,0.5 L300.5,0.5" fill="none"
                                                    stroke-width="1" stroke-opacity="0.3" stroke="#fff"></path>
                                            </g>
                                        </g>
                                    </g>
                                    <g>
                                        <g transform="translate(41,20)"></g>
                                    </g>
                                    <g></g>
                                    <clipPath id="AmChartsEl-9">
                                        <rect x="-1" y="-1" width="302" height="180" rx="0" ry="0" stroke-width="0">
                                        </rect>
                                    </clipPath>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-footer">
                    <h6 class="text-muted m-b-30 m-t-15">Total completed project and
                        earning</h6>
                    <div class="row text-center">
                        <div class="col-6 b-r-default">
                            <h6 class="text-muted m-b-10">Completed Projects</h6>
                            <h4 class="m-b-0 f-w-600 ">175</h4>
                        </div>
                        <div class="col-6">
                            <h6 class="text-muted m-b-10">Total Earnings</h6>
                            <h4 class="m-b-0 f-w-600 ">76.6M</h4>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!--GRAFICAS PARA SEDES-->
        <div class="col-xl-6 col-md-12">
            <div class="card table-card">
                <!--MANTENIMIOENTOS POR SEDE DEL MES-->
                <div class="card-header">
                    <h5>Mantenimientos por sede Mes en curso</h5>
                </div>
                <div class="card-block">
                    <div id="filtroPorSede">
                    
                    </div>
                    <div class="table-responsive">
                        <table class="table table-hover table-borderless">
                            <thead>
                                <tr>
                                    
                                    <th>Sede</th>
                                    <th>Mantenimientos</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for dataSede in data.sedes %}
                                <tr>
                                    <td>{{dataSede.nombre_sede}}</td>
                                    <td>{{dataSede.cantidad_mantenimientos}}</td>
                                    
                                </tr>
                                {% endfor %}
                                
                            </tbody>
                        </table>
                    </div>

                </div>
            </div>
        </div>
        <div class="col-xl-6 col-md-12">
            <div class="card table-card">
                <!--MANTENIMIOENTOS POR TECNICO DEL MES-->
                <div class="card-header">
                    <h5>Mantenimientos por tenico Mes en curso</h5>
                </div>
                <div class="card-block">
                    <div id="filtroPorAgente">
                    
                    </div>
                    <div class="table-responsive">
                        <table class="table table-hover table-borderless">
                            <thead>
                                <tr>
                                    
                                    <th>Nombre del tecnico</th>
                                    <th>Mantenimientos</th>
                                    
                                </tr>
                            </thead>
                            <tbody>
                                {% for technician in data.technician %}
                                <tr>
                                    
                                    <td>{{technician.nombre_tecnico}}</td>
                                    <td>{{technician.cantidad_mantenimientos}}</td>
                                    
                                </tr>
                                {% endfor %}
                                
                            </tbody>
                        </table>
                    </div>

                </div>
            </div>
        </div>
        <div class="col-xl-6 col-md-12">
            
            <div class="card table-card">
                <!--MANTENIMIOENTOS POR SEDE DEL MES-->
                <div class="card-header">
                    <h5>Mantenimientos Totales por Sede</h5>
                </div>
                
                <div class="card-block">
                    <div class="table-responsive" id="mantenimientosSedes">
                        <table class="table table-hover table-borderless">
                            <thead>
                                <tr>
                                    
                                    <th>Sede</th>
                                    <th>Mantenimientos</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for dataSede in data.sedesTotal %}
                                <tr>
                                    <td>{{dataSede.nombre_sede}}</td>
                                    <td>{{dataSede.cantidad_mantenimientos}}</td>
                                    
                                </tr>
                                {% endfor %}
                                
                            </tbody>
                            <tfoot>
                                <tr>
                                  <td>Total General</td>
                                  <td>{{data.totalGeneral}}</td>
                                </tr>
                              </tfoot>
                            
                        </table>
                    </div>

                </div>
            </div>
        </div>
        <div class="col-xl-12 col-md-12 col-xs-12">
            <!--TABLA DEL REPORTE -->
            <button id="generateReportBtn" class="btn btn-primary">Generar Reporte</button>

            <div id="table-container"></div>
        </div>
        

    </div>

</div>

<!-- Agrega el script de Bootstrap desde el CDN al final del documento -->
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css"
    integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap-theme.min.css"
    integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

<!-- Latest compiled and minified JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"
    integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
    crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"> </script>


<!-- Otros scripts y estilos -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>

<link rel="stylesheet" href="/assets/styles/styleReport.css">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.7/css/dataTables.bootstrap5.min.css">  
<script src="https://code.jquery.com/jquery-3.7.0.js"></script>
<script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.7/js/dataTables.bootstrap5.min.js"></script>
<!-- DataTables Buttons JS -->
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/buttons/1.7.1/js/dataTables.buttons.min.js"></script>
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/buttons/1.7.1/js/buttons.html5.min.js"></script>

<!-- Tu script personalizado -->
<script src="{{baseUrl}}/assets/js/maintenanceReports.js"></script>
<script>
    // Asocia un manejador de eventos al botón para redirigir a la URL cuando se presiona
    document.getElementById('generateReportBtn').addEventListener('click', function() {
      // Puedes utilizar window.location.href para redirigir a la URL deseada
      const formattedDateTime = new Date().toLocaleString('en-US', { year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit', hour12: false }).replace(/[-/:,]/g, '');

      window.location.href = `/reports/tools/general?filename=${formattedDateTime}`;
    });
  </script>


{% endblock %}